Finals:
    BASE_WATER: 10
    BASE_WATER: 10
    MOVES_PER_FOOD: 2
    MOVES_PER_WATER: 1
    DEATH_COOLDOWN: 120
    BASE_HEALTH: 10
    BASE_HIT_CHANCE: 0.8
    ENEMY_HIT_CHANCE: 0.8
    MEAT_HEAL: 8
Classes:
    - Entity:
        - Player:
            InventorySpace: int
            Inventory: Array
            Water: Object
            Armor: Object
            Food: Object
            Health: Object
        - Enemy:
            # Tier 1
            - Snarling_Beast:
                conditions:
                    distance: <=10
                    environment: forest
                damage: 1
                attackDelay: 1
                health: 5
                loot:
                    fur:
                        min: 1
                        max: 3
                        chance: 1
                    meat:
                        min: 1
                        max: 3
                        chance: 1
                    teeth: 
                        min: 1
                        max: 3
                        chance: 0.8
            - A_Gaunt_Man:
                conditions:
                    distance: <=10
                    environment: barrens
                damage: 2
                attackDelay: 2
                health: 6
                loot:
                    cloth:
                        min: 1
                        max: 3
                        chance: 0.8
                    teeth:
                        min: 1
                        max: 2
                        chane: 0.8
                    leather:    
                        min: 1
                        max: 2
                        chance: 0.5
            - Strange_Bird:
                conditions:
                    distance: <=10
                    environment: field
                damage: 3
                attackDelay: 2
                health: 4
                loot:
                    scales:
                        min: 1
                        max: 3
                        chance: 0.8
                    teeth:
                        min:1
                        max: 2
                        chance: 0.5
                    meat:
                        min: 1
                        max: 3
                        chance: 0.8
            
            # Tier 2
            - Shivering_Man:
                conditions:
                    distance: 10 <= 20
                    environment: barrens
                damage: 5
                attackDelay: 1
                health: 20
                loot:
                    cloth:
                        min: 1
                        max: 1
                        chance: 0.2
                    teeth:
                        min: 1
                        max: 2
                        chance: 0.8
                    leather:
                        min: 1
                        max: 1
                        chance: 0.2
            - Man_Eater:
                conditions:
                    distance: 10 <= 20
                    environment: forest
                damage: 3
                attackDelay: 1
                health: 25
                loot:
                    fur:
                        min: 5
                        max: 10
                        chance: 1
                    meat:
                        min: 5
                        max: 10
                        chance: 1
                    teeth:
                        min: 5
                        max: 10
                        chance: 0.8
            - Scavenger:
                conditions:
                    distance: 10 <= 20
                    environment: barrens
                distance: 4
                attackDelay: 2
                health: 30
                loot:
                    cloth:
                        min: 5
                        max: 10
                        chance: 0.8
                    leather:
                        min: 5
                        max: 10
                        chance: 0.8
                    iron:
                        min: 1
                        max: 5
                        chance: 0.5
            - Huge_Lizard:
                conditions:
                    distance: 10 <= 20
                    environment: field
                damage: 5
                attackDelay: 2
                health: 20
                loot:
                    scales:
                        min: 5
                        max: 10
                        chance: 0.8
                    teeth:
                        min: 5
                        max: 10
                        chance: 0.5
                    meat:
                        min: 5
                        max: 10
                        chance: 0.8
            
            # Environment
            - beast:
                damage: 1
                attackDelay: 1
                health: 5
                loot:
                    fur:
                        min: 1
                        max: 10
                        chance: 1
                    teeth:
                        min: 1
                        max: 5
                        chance: 0.8
            - beast2:
                damage: 3
                hit: 0.8
                attackDelay: 2
                health: 10
                loot:
                    fur:
                        min: 1
                        max: 3
                        chance: 1
                    teeth:
                        min: 1
                        max: 3
                        chance: 1
            - beast3:
                damage: 4
                attackDelay: 1
                health: 25
                loot:
                    teeth:
                        min: 1
                        max: 5
                        chance: 1
                    fur:
                        min: 5
                        max: 10
                        chance: 1
            - lizard:
                damage: 3
                attackDelay: 2
                health: 6
                loot:
                    scales:
                        min: 1
                        max: 3
                        chance: 1
                    teeth:
                        min: 1
                        max: 2
                        chance: 0.8
            - lizard2:
                damage: 4
                attackDelay: 0.8
                health: 10
                loot:
                    scales:
                        min: 1
                        max: 3
                        chance: 1
                    teeth:
                        min: 1
                        max: 3
                        chance: 1
            - thug:
                damage: 4
                attackDelay: 2
                health: 30
                loot:
                    cloth:
                        min: 5
                        max: 10
                        chance: 0.8
                    leather:
                        min: 5
                        max: 10
                        chance: 0.8
                    cured_meat:
                        min: 1
                        max: 5
                        chance: 0.5
            - vigilante:
                damage: 6
                attackDelay: 2
                health: 30
                loot:
                    cured_meat:
                        min: 5
                        max: 10
                        chance: 1
                    leather:
                        min: 5
                        max: 10
                        chance: 0.8
                    steel_swird:
                        min: 1
                        max: 1
                        chance: 0.8
            - squatter:
                damage: 3
                attackDelay: 2
                health: 10
                loot:
                    cured_meat:
                        min: 1
                        max: 10
                        chance: 0.8
                    leather:
                        min: 1
                        max: 10
                        chance: 0.2
                    cloth:
                        min: 1
                        max: 10
                        chance: 0.5
            - beastly_matriarch:
                damage: 4
                attackDelay: 2
                health: 10
                loot:
                    teeth:
                        min: 5
                        max: 10
                        chance: 1
                    scales:
                        min :5
                        max: 10
                        chance: 0.8
                    cloth:
                        min: 5
                        max: 10
                        chance: 0.5
    # Manages Villagers
    - Village:
        # Check for Wagon
        Wood:
        Trap:
            #loot:
                #meat
                #cloth
                #bait
                #animal hide
        # Ruined Trap
        ruinedTrap:
            scenes:
                # some of the traps have been torn apart.
                # large prints lead away, into the forest.
                start:
                    buttons:
                        track:
                            nextScene: {0.5: 'nothing', 1: 'catch'}
                        ignore:
                            nextScene: end
                # the tracks disappear after just a few minutes.
                # the forest is silent.
                nothing:
                    buttons:
                        end:
                            nextScene: end
                # not far from the village lies a large beast, its fur matted with blood.
                # it puts up little resistance before the knife.
                catch:
                    loot:
                        fur: 100
                        meat: 100
                        teeth: 10
                    buttons:
                        end:
                            nextScene: end
        Jobs:
        # ints of villagers working on ___
            - gatherer:
                wood: 1
            - hunter:
                wood: 0.5
                meat: 0.5
            - trapper:
                meat: -1
                bait: 1
            - charcutier:
                meat: -5
                wood: -5
                cured meat: 1
            - iron_miner:
                cured meat: -1
                iron: 1
            - steelworker:
                iron: -1
                wood: -2
                steel: 1
        updateInventory
        # every 10 s update inventories
    - Exploration:
        # A Friendly Outpost
        - Outpost:
            scenes:
                start:
                    loot:
                        cured meat:
                            min: 5
                            max: 10
                            chance: 1
                    buttons:
                        leave:
                            nextScene: end
        - Cave:
            scenes:
                start:
                    buttons:
                        enter:
                            cost:
                                torch: 1
                            nextScene: {0.3: 'a1', 1: 'a2'}
                        leave:
                            nextScene: end
                a1:
                    enemy: beast
                    buttons:
                        continue:
                            nextScene: b1
                        leave:
                             nextScene: end
                
                # the remains of an old camp sits just inside the cave.
                # bedrolls, torn and blackened, lay beneath a thin layer of dust.
                a2:
                    loot:
                        cured meat:
                            min: 1
                            max: 5
                            chance: 1
                        torch:
                            min: 1
                            max: 5
                            chance: 0.5
                        leather:
                            min: 1
                            max: 5
                            chance: 0.3
                    buttons:
                        continue:
                            nextScene: {0.5: 'b2', 1: 'b3'}
                        leave:
                            nextScene: end
                
                # bedrolls, torn and blackened, lay beneath a thin layer of dust.
                # rot's been to work on it, and some of the pieces are missing.
                # can't tell what left it here.
                b1:
                    loot:
                        iron sword:
                            min: 1
                            max: 1
                            chance: 1
                        cured meat:
                            min: 1
                            max: 5
                            chance: 0.8
                        torch:
                            min: 1
                            max: 3
                            chance: 0.5
                    buttons:
                        continue:
                            nextScene: c1
                        leave:
                            nextScene: end
                b2:
                    enemy: beast
                    buttons:
                        continue:
                            nextScene: c2
                        leave:
                            nextScene: end
                b3:
                    enemy: lizard
                    buttons:
                        continue:
                            nextScene: c2
                        leave:
                            nextScene: end
                c1:
                    enemy: beast2
                    buttons:
                        continue:
                            nextScene: {0.5: 'end1', 1: 'end2'}
                        leave:
                            nextScene: 'end'
                c2:
                    enemy: lizard2
                    buttons:
                        continue:
                            nextScene: {0.7: 'end2', 1: 'end3'}
                        leave:
                            nextScene: 'end'
                            
                # the nest of a large animal lies at the back of the cave.
                end1:
                    loot:
                        meat:
                            min: 5
                            max: 10
                            chance: 1
                        fur:
                            min: 5
                            max: 10
                            chance: 1
                        scales:
                            min: 5
                            max: 10
                            chance: 1
                        teeth:
                            min: 5
                            max: 10
                            chance: 1
                        cloth:
                            min: 5
                            max: 10
                            chance: 0.5
                    buttons:
                        leave:
                            nextScene: end
                            
                # a small supply cache is hidden at the back of the cave.
                end2:
                    loot:
                        cloth:
                            min: 5
                            max: 10
                            chance: 1
                        leather:
                            min: 5
                            max: 10
                            chance: 1
                        iron:
                            min: 5,
                            max: 10,
                            chance: 1
                        cured meat:
                            min: 5
                            max: 10
                            chance: 1
                        steel:
                            min: 5
                            max: 10
                            chance: 0.5
                    buttons:
                        leave:
                            nextScene: end
			    
                # an old case is wedged behind a rock, covered in a thick layer of dust.
                end3:
                    loot:
                        steel sword:
                            min: 1
                            max: 1
                            chance: 1
                    buttons:
                        leave:
                            nextScene: end
    	
        # A Deserted Town
        - Town:
            scenes:
                # a small suburb lays ahead, empty houses scorched and peeling.
                # broken streetlights stand, rusting. light hasn't graced this place in a long time.
                start:
                    buttons:
                        enter:
                            nextScene: a1
                        leave:
                            nextScene: end
                a1:
                    enemy: thug
                    buttons:
                        continue:
                            nextScene: b1
                        leave:
                            nextScene: end
                b1:
                    enemy: beast2
                    buttons:
                        continue:
                            nextScene: {0.5: 'c1', 1: 'c2'}
                        leave:
                            nextScene: end
                c1:
                    enemy: beast3
                    buttons:
                        continue:
                            nextScene: d1
                        leave:
                            nextScene: 'end'
                            
                # something's causing a commotion a ways down the road.
                # a fight, maybe.
                c2:
                    buttons:
                        continue:
                            nextScene: d1
                        leave:
                            nextScene: end
                d1:
                    enemy: vigilante
                    buttons:
                        continue:
                            nextScene: end1
                        leave:
                            nextScene: end
                # eye for an eye seems fair.
                # always worked before, at least.
                # picking the bones finds some useful trinkets.
                end1:
                    loot:
                        cured meat:
                            min: 5
                            max: 10
                            chance: 1
                        iron:
                            min: 5
                            max: 10
                            chance: 1
                        torch:
                            min: 1
                            max: 5
                            chance: 1
                    buttons:
                        leave:
                            nextScene: end
        # An Old House
        - House:
            scenes:
                # an old house remains here, once white sliding yellowed and peeling.
                # the door hangs open.
                start:
                    buttons:
                        enter:
                            nextScene: {0.5: 'supplies', 1: 'occupied' }
                        leave:
                            nextScene: end
                # the house is abandoned, but not yet picked over.
                # still a few drops of water in the old well.
                supplies:
                    loot:
                        cured meat:
                            min: 1
                            max: 10
                            chance: 0.8
                        leather:
                            min: 1
                            max: 10
                            chance: 0.2
                        cloth:
                            min: 1
                            max: 10
                            chance: 0.5
                    buttons:
                        leave:
                            nextScene: end
                occupied: 
                    enemy: squatter
                    buttons:
                        leave:
                            nextScene: end
        # an old iron mine sits here, tools abandoned and left to rust.
        # bleached bones are strewn about the entrance. many, deeply scored with jagged grooves.
        # feral howls echo out of the darkness.
        - Iron Mine:
            scenes:
                start:
                    buttons:
                        enter:
                            nextScene: enter
                        leave:
                            nextScene: end
                enter:
                    enemy: beastly_matriarch
                    buttons:
                        leave:
                            nextScene: cleared
                cleared:
                    buttons:
                        leave:
                            nextScene: end
    # Abstract class with buy method
    - Upgrades:
        - personItems:
            torch:
                cost:
                    - wood: 1
                    - cloth: 1
            weapons:
                - none:
                    level: 0
                    amount: 1
                - wood:
                    level: 1
                    weight: 2
                    amount: 2
                    cost:
                        - wood: 200
                        - leather: 50
                - iron:
                    level: 2
                    weight: 3
                    amount: 4
                    cost:
                        - wood: 200
                        - leather: 50
                        - iron: 20
                - steel:
                    level: 3
                    weight: 5
                    amount: 6
                        - wood: 200
                        - leather: 50
                        - steel: 20
                - compound bow:
                    weight: 4
                    amount: 6
                        - wood: 400
                        - leather: 80
                        - iron: 20
                        - steel: 20
                - wood arrow:
                    amount: 0
                    level: 1
                        - wood: 10
                        - teeth: 1
                - steel arrow:
                    amount: +2
                    level: 2
                        - wood: 10
                        - teeth: 1
                        - steel: 1
                - iron arrow:
                    amount: +3
                    level: 3
                        - wood: 10
                        - teeth: 1
                        - iron: 1
        - unlocks:
            cart:
                cost:
                    - wood: 30
            lodge:
                cost:
                    - wood: 200
                    - fur: 10
                    - meat: 5
            tannery:
                cost:
                    - wood: 500
                    - fur: 50
            smokehouse:
                cost:
                    - wood: 600
                    - meat: 50
            steelworks:
                cost:
                    - wood: 1500
                    - iron: 100
            water:
                - waterskin:
                    level: 1
                    amount: 10
                    cost: 
                        - leather: 50
                - cask: 
                    level: 2
                    amount: 20
                    cost:
                        - leather: 100
                        - iron: 20
                - iron_cask:
                    level: 3
                    amount: 60
                    cost: 
                        - leather: 50
                        - steel: 100
            storage:
                - none:
                    level: 0
                    amount: 10
                - rucksack:
                    level: 1
                    amount: 20
                    cost:
                        - leather: 200
                - wagon:
                    level: 2
                    amount: 40
                    cost:
                        - wood: 500
                        - iron: 100
                - convoy:
                    level: 3
                    amount: 70
                    cost:
                        - wood: 1000
                        - iron: 200
                        - steel: 100
            armor:
                - none:
                    level: 0
                    amount: 10
                - leather:
                    level: 1
                    cost: 15
                        - leather: 200
                        - scales: 20
                - iron:
                    level: 2
                    amount:
                    cost: 25
                        - leather: 200
                        - iron: 100
                - steel:
                    level: 3
                    amount: 45
                    cost:
                        - leather: 200
                        - steel: 100
        - Buildings:
            trap:
                maximum: 10
                cost:
                    - wood: 10
                    - additional: 10 + (n*10)
            hut:
                maximum: 20
                cost:
                    - wood: 100
                    - additional: 100 + (n*50)